import os

serpent.option(
   trigger     = "python-sdk",
   value       = "C:\\Python27-Clean",
   description = "Python sdk location"
)

serpent.option(
   trigger     = "toolset",
   value       = "v140",
   description = "Visual Studio Toolset"
)

msbuild_ext = serpent.load('serpent.msbuild.srp');


msbuild_ext.visual_studio(
	toolset = serpent.triggers['toolset'],
	project = "msvc/env.project",
	files = serpent.glob(['Serpent/*.cpp']),
	resources = serpent.glob(['Serpent/*.rc']),
	name = 'serpent_project',
	defines = ['WINDOWS'],
	outdir = 'Bin/Release/',
	intdir = 'Intermediate/env/',
	includes = [os.path.join(serpent.triggers['python-sdk'], 'include')],
	libs = [os.path.join(serpent.triggers['python-sdk'], 'libs/python27.lib')]
)

serpent.include('samples/cpp/BUILDENV')

@serpent.prebuild
def run():
	print "Error: 1"
	print "Error: 1"
	print "Error: 1"
	print "Warning: 1"
	print "Warning: 1"

@serpent.postbuild
def run():
	print "Error: 1"
	print "Error: 1"
	print "Error: 1"
	print "Warning: 1"
	print "Warning: 1"
